<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes" />
    <meta name="theme-color" content="#2563eb" />
    <title>Televendas Pro Suite</title>
    <meta name="description" content="Sistema completo de gestão de televendas com controle de pedidos, clientes e itinerários" />
    <meta name="author" content="TecDisa" />

    <meta property="og:title" content="Televendas Pro Suite" />
    <meta property="og:description" content="Sistema completo de gestão de televendas com controle de pedidos, clientes e itinerários" />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="/placeholder.svg" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Televendas Pro Suite" />
    <meta name="twitter:description" content="Sistema completo de gestão de televendas com controle de pedidos, clientes e itinerários" />
    <meta name="twitter:image" content="/placeholder.svg" />
  </head>

  <body>
    <script>
      // GitHub Pages SPA redirect handler - prevents infinite loops
      (function (l) {
        const search = l.search;
        // Only process if there's a search string starting with "/?/" and not already processed
        if (search && search.length > 2 && search.indexOf("/?/") === 0) {
          // Check if we've already tried to process this (prevent infinite loop)
          const alreadyProcessed = sessionStorage.getItem('spa-redirect-processed');
          const currentUrl = l.href;
          
          if (alreadyProcessed === currentUrl) {
            // Already processed this URL, clear and navigate to root
            sessionStorage.removeItem('spa-redirect-processed');
            window.location.replace(l.origin + l.pathname.replace(/\/[^/]*$/, '/'));
            return;
          }
          
          // Mark as being processed
          sessionStorage.setItem('spa-redirect-processed', currentUrl);
          
          // Decode the redirect
          const decoded = search
            .slice(1)
            .split("&")
            .map((s) => s.replace(/~and~/g, "&"))
            .join("?");
          
          // Replace the URL without reloading
          window.history.replaceState(
            null,
            null,
            l.pathname.replace(/\/$/, "") + decoded + l.hash
          );
          
          // Clear the processed flag after successful redirect
          setTimeout(() => {
            sessionStorage.removeItem('spa-redirect-processed');
          }, 100);
        }
      })(window.location);
    </script>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
